const poderesFuente =
  (typeof window !== 'undefined' && window.poderes) ||
  (typeof poderes !== 'undefined' ? poderes : {});

const personajes = {
  shieldAgente: {
    nombre: 'SHIELD Agente',
    movimiento: 3,
    ataque: 7,
    defensa: 15,
    dano: 2,
    rango: 3,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/shieldAgente.webp',
    animacion: 'assets/images/animations/shieldAgente.webp',
    poderes: poderesFuente.shieldAgente,
    habilidades: { activas: [], pasivas: [] }
  },
  shieldMedico: {
    nombre: 'SHIELD Médico',
    movimiento: 3,
    ataque: 6,
    defensa: 14,
    dano: 1,
    rango: 2,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/shieldMedico.webp',
    animacion: 'assets/images/animations/shieldMedico.webp',
    poderes: poderesFuente.shieldMedico,
    habilidades: { activas: ['Curar'], pasivas: [] }
  },
  hydraAgente: {
    nombre: 'HYDRA Agente',
    movimiento: 3,
    ataque: 7,
    defensa: 14,
    dano: 2,
    rango: 3,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/hydraAgente.webp',
    animacion: 'assets/images/animations/hydraAgente.webp',
    poderes: poderesFuente.hydraAgente,
    habilidades: { activas: [], pasivas: [] }
  },
  hydraMedico: {
    nombre: 'HYDRA Médico',
    movimiento: 3,
    ataque: 7,
    defensa: 14,
    dano: 1,
    rango: 2,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/hydraMedico.webp',
    animacion: 'assets/images/animations/hydraMedico.webp',
    poderes: poderesFuente.hydraMedico,
    habilidades: { activas: ['Curar'], pasivas: [] }
  },
  maton: {
    nombre: 'Matón',
    movimiento: 3,
    ataque: 7,
    defensa: 14,
    dano: 2,
    rango: 1,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/maton.webp',
    animacion: 'assets/images/animations/maton.webp',
    poderes: poderesFuente.maton,
    habilidades: { activas: [], pasivas: [] }
  },
  esbirro: {
    nombre: 'Esbirro',
    movimiento: 3,
    ataque: 7,
    defensa: 13,
    dano: 2,
    rango: 2,
    vida: 5,
    agilidad: 0,
    imagen: 'assets/images/tokens/esbirro.webp',
    animacion: 'assets/images/animations/esbirro.webp',
    poderes: poderesFuente.esbirro,
    habilidades: { activas: [], pasivas: [] }
  },
  skrullAgente: {
    nombre: 'Skrull Agente',
    movimiento: 4,
    ataque: 7,
    defensa: 15,
    dano: 2,
    rango: 3,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/skrullAgente.webp',
    animacion: 'assets/images/animations/skrullAgente.webp',
    poderes: poderesFuente.skrullAgente,
    habilidades: { activas: [], pasivas: [] }
  },
  skrullGuerrero: {
    nombre: 'Skrull Guerrero',
    movimiento: 4,
    ataque: 8,
    defensa: 16,
    dano: 2,
    rango: 4,
    vida: 4,
    agilidad: 0,
    imagen: 'assets/images/tokens/skrullGuerrero.webp',
    animacion: 'assets/images/animations/skrullGuerrero.webp',
    poderes: poderesFuente.skrullGuerrero,
    habilidades: { activas: [], pasivas: [] }
  },
  blade: {
    nombre: 'Blade',
    movimiento: 4,
    ataque: 9,
    defensa: 15,
    dano: 2,
    rango: 1,
    vida: 6,
    agilidad: 30,
    imagen: 'assets/images/tokens/blade.webp',
    animacion: 'assets/images/animations/blade.webp',
    poderes: poderesFuente.blade,
    habilidades: { activas: [], pasivas: ['Sigilo', 'Filo', 'Dureza'] }
  },
  lobaVenenosa: {
    nombre: 'Loba Venenosa',
    movimiento: 5,
    ataque: 10,
    defensa: 15,
    dano: 2,
    rango: 1,
    vida: 7,
    agilidad: 10,
    imagen: 'assets/images/tokens/lobaVenenosa.webp',
    animacion: 'assets/images/animations/lobaVenenosa.webp',
    poderes: poderesFuente.lobaVenenosa,
    habilidades: { activas: [], pasivas: ['Filo'] }
  },
  elektra: {
    nombre: 'Elektra',
    movimiento: 4,
    ataque: 9,
    defensa: 16,
    dano: 2,
    rango: 2,
    vida: 6,
    agilidad: 30,
    imagen: 'assets/images/tokens/elektra.webp',
    animacion: 'assets/images/animations/elektra.webp',
    poderes: poderesFuente.elektra,
    habilidades: { activas: [], pasivas: ['Sigilo', 'Filo'] }
  },
  avispa: {
    nombre: 'Avispa',
    movimiento: 4,
    ataque: 8,
    defensa: 19,
    dano: 2,
    rango: 3,
    vida: 5,
    agilidad: 20,
    imagen: 'assets/images/tokens/avispa.webp',
    animacion: 'assets/images/animations/avispa.webp',
    poderes: poderesFuente.avispa,
    habilidades: { activas: ['Incapacitar', 'Mejora de Agilidad'], pasivas: ['Volar'] }
  },
  constrictor: {
    nombre: 'Constrictor',
    movimiento: 3,
    ataque: 10,
    defensa: 16,
    dano: 2,
    rango: 2,
    vida: 6,
    agilidad: 10,
    imagen: 'assets/images/tokens/constrictor.webp',
    animacion: 'assets/images/animations/constrictor.webp',
    poderes: poderesFuente.constrictor,
    habilidades: { activas: ['Incapacitar','Mejora de Defensa'], pasivas: [] }
  },
  boomerang: {
    nombre: 'Boomerang',
    movimiento: 3,
    ataque: 9,
    defensa: 15,
    dano: 1,
    rango: 4,
    vida: 5,
    agilidad: 30,
    imagen: 'assets/images/tokens/boomerang.webp',
    animacion: 'assets/images/animations/boomerang.webp',
    poderes: poderesFuente.boomerang,
    habilidades: { activas: ['Incapacitar','Explosión', 'Experto a/d', 'Defensa a/d'], pasivas: [] }
  },
  kingpin: {
    nombre: 'Kingpin',
    movimiento: 3,
    ataque: 8,
    defensa: 16,
    dano: 2,
    rango: 1,
    vida: 7,
    agilidad: 10,
    imagen: 'assets/images/tokens/kingpin.webp',
    animacion: 'assets/images/animations/kingpin.webp',
    poderes: poderesFuente.kingpin,
    habilidades: { activas: ['Mejora de Agilidad'], pasivas: ['Dureza'] }
  },
  buitre: {
    nombre: 'Buitre',
    movimiento: 5,
    ataque: 8,
    defensa: 16,
    dano: 2,
    rango: 1,
    vida: 5,
    agilidad: 30,
    imagen: 'assets/images/tokens/buitre.webp',
    animacion: 'assets/images/animations/buitre.webp',
    poderes: poderesFuente.buitre,
    habilidades: { activas: [], pasivas: ['Volar'] }
  },
  jeanGrey: {
    nombre: 'Jean Grey',
    movimiento: 3,
    ataque: 7,
    defensa: 16,
    dano: 1,
    rango: 1,
    vida: 6,
    agilidad: 10,
    imagen: 'assets/images/tokens/jeanGrey.webp',
    animacion: 'assets/images/animations/jeanGrey.webp',
    poderes: poderesFuente.jeanGrey,
    habilidades: { activas: ['Telekinesis', 'Curar'], pasivas: ['Defensa a/d'] }
  },
  duende: {
    nombre: 'Duende',
    movimiento: 4,
    ataque: 9,
    defensa: 16,
    dano: 2,
    rango: 3,
    vida: 7,
    agilidad: 30,
    imagen: 'assets/images/tokens/duende.webp',
    animacion: 'assets/images/animations/duende.webp',
    poderes: poderesFuente.duende,
    habilidades: { activas: ['Incapacitar'], pasivas: ['Experto a/d', 'Volar'] }
  },
  dientesDeSable: {
    nombre: 'Dientes de Sable',
    movimiento: 4,
    ataque: 10,
    defensa: 16,
    dano: 3,
    rango: 1,
    vida: 8,
    agilidad: 30,
    imagen: 'assets/images/tokens/dientesDeSable.webp',
    animacion: 'assets/images/animations/dientesDeSable.webp',
    poderes: poderesFuente.dientesDeSable,
    habilidades: { activas: [], pasivas: ['Sigilo', 'Filo', 'Dureza','Regeneración'] }
  },
  hulk: {
    nombre: 'Hulk',
    movimiento: 5,
    ataque: 12,
    defensa: 17,
    dano: 5,
    rango: 1,
    vida: 10,
    agilidad: 10,
    imagen: 'assets/images/tokens/hulk.webp',
    animacion: 'assets/images/animations/hulk.webp',
    poderes: poderesFuente.hulk,
    habilidades: { activas: [''], pasivas: ['Saltar/Trepar', 'Superfuerza', 'Invulnerabilidad','Regeneración'] }
  },
  maestroMarionetas: {
    nombre: 'Maestro Marionetas',
    movimiento: 3,
    ataque: 7,
    defensa: 15,
    dano: 1,
    rango: 2,
    vida: 5,
    agilidad: 10,
    imagen: 'assets/images/tokens/maestroMarionetas.webp',
    animacion: 'assets/images/animations/maestroMarionetas.webp',
    poderes: poderesFuente.maestroMarionetas,
    habilidades: { activas: ['Control Mental'], pasivas: [] }
  },
  annihilus: {
    nombre: 'Annihilus',
    movimiento: 4,
    ataque: 11,
    defensa: 16,
    dano: 3,
    rango: 5,
    vida: 9,
    agilidad: 40,
    imagen: 'assets/images/tokens/annihilus.webp',
    animacion: 'assets/images/animations/annihilus.webp',
    poderes: poderesFuente.annihilus,
    habilidades: { activas: [], pasivas: ['Invulnerable','Volar'] }
  },
  capitanAmerica: {
    nombre: 'Capitán América',
    movimiento: 4,
    ataque: 10,
    defensa: 17,
    dano: 2,
    rango: 3,
    vida: 8,
    agilidad: 40,
    imagen: 'assets/images/tokens/capitanAmerica.webp',
    animacion: 'assets/images/animations/capitanAmerica.webp',
    poderes: poderesFuente.capitanAmerica,
    habilidades: { activas: ['Mejora de Agilidad','Curar'], pasivas: ['Defensa a/d','Astucia','Dureza'] }
  },
  spiderMan: {
    nombre: 'Spider-Man',
    movimiento: 5,
    ataque: 12,
    defensa: 18,
    dano: 2,
    rango: 3,
    vida: 9,
    agilidad: 50,
    imagen: 'assets/images/tokens/spiderMan.webp',
    animacion: 'assets/images/animations/spiderMan.webp',
    poderes: poderesFuente.spiderMan,
    habilidades: { activas: ['Incapacitar'], pasivas: ['Saltar/Trepar','Astucia','Doble ataque c/c','Mejora de Defensa'] }
  },
  lobezno: {
    nombre: 'Lobezno',
    movimiento: 4,
    ataque: 12,
    defensa: 16,
    dano: 2,
    rango: 1,
    vida: 8,
    agilidad: 30,
    imagen: 'assets/images/tokens/lobezno.webp',
    animacion: 'assets/images/animations/lobezno.webp',
    poderes: poderesFuente.lobezno,
    habilidades: { activas: [], pasivas: ['Sigilo','Filo','Dureza','Regeneración' ] }
  },
  profesorXavier: {
    nombre: 'Profesor Xavier',
    movimiento: 3,
    ataque: 11,
    defensa: 16,
    dano: 1,
    rango: 5,
    vida: 7,
    agilidad: 10,
    imagen: 'assets/images/tokens/profesorXavier.webp',
    animacion: 'assets/images/animations/profesorXavier.webp',
    poderes: poderesFuente.profesorXavier,
    habilidades: { activas: ['Control Mental','Mejora de Defensa','Mejora de Agilidad'], pasivas: [] }
  },
  juggernaut: {
    nombre: 'Juggernaut',
    movimiento: 4,
    ataque: 13,
    defensa: 18,
    dano: 4,
    rango: 1,
    vida: 10,
    agilidad: 0,
    imagen: 'assets/images/tokens/juggernaut.webp',
    animacion: 'assets/images/animations/juggernaut.webp',
    poderes: poderesFuente.juggernaut,
    habilidades: { activas: [], pasivas: ['Superfuerza','Invulnerable'] }
  },
  ciclope: {
    nombre: 'Cíclope',
    movimiento: 3,
    ataque: 11,
    defensa: 15,
    dano: 2,
    rango: 5,
    vida: 6,
    agilidad: 20,
    imagen: 'assets/images/tokens/ciclope.webp',
    animacion: 'assets/images/animations/ciclope.webp',
    poderes: poderesFuente.ciclope,
    habilidades: { activas: [], pasivas: ['Experto a/d','Defensa a/d'] }
  },
  panteraNegra: {
    nombre: 'Pantera Negra',
    movimiento: 5,
    ataque: 9,
    defensa: 16,
    dano: 2,
    rango: 2,
    vida: 6,
    agilidad: 40,
    imagen: 'assets/images/tokens/panteraNegra.webp',
    animacion: 'assets/images/animations/panteraNegra.webp',
    poderes: poderesFuente.panteraNegra,
    habilidades: { activas: [], pasivas: ['Saltar/Trepar','Astucia','Filo','Sigilo'] }
  },
  ventisca: {
    nombre: 'Ventisca',
    movimiento: 4,
    ataque: 11,
    defensa: 16,
    dano: 1,
    rango: 4,
    vida: 6,
    agilidad: 10,
    imagen: 'assets/images/tokens/ventisca.webp',
    animacion: 'assets/images/animations/ventisca.webp',
    poderes: poderesFuente.ventisca,
    habilidades: { activas: ['Pulso','Barrera'], pasivas: [] }
  },
  pyro: {
    nombre: 'Pyro',
    movimiento: 4,
    ataque: 9,
    defensa: 17,
    dano: 1,
    rango: 4,
    vida: 6,
    agilidad: 10,
    imagen: 'assets/images/tokens/pyro.webp',
    animacion: 'assets/images/animations/pyro.webp',
    poderes: poderesFuente.pyro,
    habilidades: { activas: ['Incapacitar','Explosión'], pasivas: ['Experto a/d'] }
  },
  torbellino: {
    nombre: 'Torbellino',
    movimiento: 6,
    ataque: 8,
    defensa: 16,
    dano: 3,
    rango: 1,
    vida: 6,
    agilidad: 40,
    imagen: 'assets/images/tokens/torbellino.webp',
    animacion: 'assets/images/animations/torbellino.webp',
    poderes: poderesFuente.torbellino,
    habilidades: { activas: [], pasivas: ['Doble ataque c/c','Defensa a/d'] }
  },
  daredevil: {
    nombre: 'Daredevil',
    movimiento: 4,
    ataque: 9,
    defensa: 17,
    dano: 2,
    rango: 2,
    vida: 6,
    agilidad: 40,
    imagen: 'assets/images/tokens/daredevil.webp',
    animacion: 'assets/images/animations/daredevil.webp',
    poderes: poderesFuente.daredevil,
    habilidades: { activas: ['Incapacitar'], pasivas: [] }
  },
  bullseye: {
    nombre: 'Bullseye',
    movimiento: 3,
    ataque: 11,
    defensa: 16,
    dano: 1,
    rango: 5,
    vida: 6,
    agilidad: 50,
    imagen: 'assets/images/tokens/bullseye.webp',
    animacion: 'assets/images/animations/bullseye.webp',
    poderes: poderesFuente.bullseye,
    habilidades: { activas: [], pasivas: ['Experto a/d','Defensa a/d'] }
  },
  brujaEscarlata: {
    nombre: 'Bruja Escarlata',
    movimiento: 3,
    ataque: 8,
    defensa: 16,
    dano: 1,
    rango: 4,
    vida: 5,
    agilidad: 10,
    imagen: 'assets/images/tokens/brujaEscarlata.webp',
    animacion: 'assets/images/animations/brujaEscarlata.webp',
    poderes: poderesFuente.brujaEscarlata,
    habilidades: { activas: ['Incapacitar','Mejora de Crítico'], pasivas: ['Astucia'] }
  },
  mercurio: {
    nombre: 'Mercurio',
    movimiento: 7,
    ataque: 9,
    defensa: 16,
    dano: 2,
    rango: 1,
    vida: 6,
    agilidad: 70,
    imagen: 'assets/images/tokens/mercurio.webp',
    animacion: 'assets/images/animations/mercurio.webp',
    poderes: poderesFuente.mercurio,
    habilidades: { activas: [], pasivas: ['Defensa a/d','Doble ataque c/c'] }
  },
  mrHyde: {
    nombre: 'Mr Hyde',
    movimiento: 4,
    ataque: 11,
    defensa: 15,
    dano: 3,
    rango: 1,
    vida: 7,
    agilidad: 10,
    imagen: 'assets/images/tokens/mrHyde.webp',
    animacion: 'assets/images/animations/mrHyde.webp',
    poderes: poderesFuente.mrHyde,
    habilidades: { activas: [], pasivas: ['Superfuerza','Dureza'] }
  },
  klaw: {
    nombre: 'Klaw',
    movimiento: 4,
    ataque: 11,
    defensa: 16,
    dano: 2,
    rango: 5,
    vida: 8,
    agilidad: 20,
    imagen: 'assets/images/tokens/klaw.webp',
    animacion: 'assets/images/animations/klaw.webp',
    poderes: poderesFuente.klaw,
    habilidades: { activas: ['Incapacitar'], pasivas: ['Barrera','Experto a/d'] }
  },
  controller: {
    nombre: 'Controller',
    movimiento: 3,
    ataque: 12,
    defensa: 17,
    dano: 3,
    rango: 1,
    vida: 7,
    agilidad: 30,
    imagen: 'assets/images/tokens/controller.webp',
    animacion: 'assets/images/animations/controller.webp',
    poderes: poderesFuente.controller,
    habilidades: { activas: ['Control Mental'], pasivas: ['Superfuerza','Dureza','Regeneración'] }
  },
  hercules: {
    nombre: 'Hércules',
    movimiento: 4,
    ataque: 11,
    defensa: 15,
    dano: 4,
    rango: 1,
    vida: 9,
    agilidad: 20,
    imagen: 'assets/images/tokens/hercules.webp',
    animacion: 'assets/images/animations/hercules.webp',
    poderes: poderesFuente.hercules,
    habilidades: { activas: [], pasivas: ['Superfuerza','Dureza'] }
  },
  picara: {
    nombre: 'Pícara',
    movimiento: 5,
    ataque: 10,
    defensa: 15,
    dano: 3,
    rango: 1,
    vida: 8,
    agilidad: 20,
    imagen: 'assets/images/tokens/picara.webp',
    animacion: 'assets/images/animations/picara.webp',
    poderes: poderesFuente.picara,
    habilidades: { activas: [], pasivas: ['Robo de Vida','Invulnerable','Volar'] }
  },
  drExtrano: {
    nombre: 'Dr Extraño',
    movimiento: 3,
    ataque: 11,
    defensa: 17,
    dano: 2,
    rango: 5,
    vida: 8,
    agilidad: 20,
    imagen: 'assets/images/tokens/drExtrano.webp',
    animacion: 'assets/images/animations/drExtrano.webp',
    poderes: poderesFuente.drExtrano,
    habilidades: { activas: ['Incapacitar','Telekinesis','Pulso','Barrera','Curar','Mejora de Crítico','Mejora de Ataque'], pasivas: ['Volar','Fase','Defensa a/d','Experto a/d'] }
  },
  magneto: {
    nombre: 'Magneto',
    movimiento: 5,
    ataque: 10,
    defensa: 17,
    dano: 4,
    rango: 4,
    vida: 8,
    agilidad: 30,
    imagen: 'assets/images/tokens/magneto.webp',
    animacion: 'assets/images/animations/magneto.webp',
    poderes: poderesFuente.magneto,
    habilidades: { activas: ['Telekinesis','Mejora de Agilidad'], pasivas: ['Defensa a/d','Volar'] }
  },
  kang: {
    nombre: 'Kang',
    movimiento: 5,
    ataque: 13,
    defensa: 18,
    dano: 2,
    rango: 5,
    vida: 9,
    agilidad: 10,
    imagen: 'assets/images/tokens/kang.webp',
    animacion: 'assets/images/animations/kang.webp',
    poderes: poderesFuente.kang,
    habilidades: { activas: ['Incapacitar','Pulso'], pasivas: ['Invulnerable','Experto a/d','Fase'] }
  },
  ultron: {
    nombre: 'Ultrón',
    movimiento: 6,
    ataque: 14,
    defensa: 18,
    dano: 3,
    rango: 5,
    vida: 10,
    agilidad: 30,
    imagen: 'assets/images/tokens/ultron.webp',
    animacion: 'assets/images/animations/ultron.webp',
    poderes: poderesFuente.ultron,
    habilidades: { activas: ['Explosión'], pasivas: ['Invulnerable','Volar'] }
  },
  firelord: {
    nombre: 'Firelord',
    movimiento: 6,
    ataque: 13,
    defensa: 18,
    dano: 3,
    rango: 4,
    vida: 10,
    agilidad: 60,
    imagen: 'assets/images/tokens/firelord.webp',
    animacion: 'assets/images/animations/firelord.webp',
    poderes: poderesFuente.firelord,
    habilidades: { activas: ['Explosión','Pulso','Barrera'], pasivas: ['Defensa a/d','Experto a/d','Volar'] }
  },
  vision: {
    nombre: 'Vision',
    movimiento: 5,
    ataque: 11,
    defensa: 17,
    dano: 3,
    rango: 5,
    vida: 10,
    agilidad: 20,
    imagen: 'assets/images/tokens/vision.webp',
    animacion: 'assets/images/animations/vision.webp',
    poderes: poderesFuente.vision,
    habilidades: { activas: [], pasivas: ['Volar','Superfuerza','Invulnerable'] }
  },
  quasar: {
    nombre: 'Quasar',
    movimiento: 5,
    ataque: 11,
    defensa: 18,
    dano: 1,
    rango: 5,
    vida: 8,
    agilidad: 20,
    imagen: 'assets/images/tokens/quasar.webp',
    animacion: 'assets/images/animations/quasar.webp',
    poderes: poderesFuente.quasar,
    habilidades: { activas: ['Incapacitar','Telekinesis','Barrera','Mejora de Defensa'], pasivas: ['Experto a/d','Volar'] }
  },
  thanos: {
    nombre: 'Thanos',
    movimiento: 6,
    ataque: 15,
    defensa: 18,
    dano: 4,
    rango: 5,
    vida: 11,
    agilidad: 30,
    imagen: 'assets/images/tokens/thanos.webp',
    animacion: 'assets/images/animations/thanos.webp',
    poderes: poderesFuente.thanos,
    habilidades: { activas: [], pasivas: ['Invulnerable','Regeneración','Volar'] }
  },
  pesadilla: {
    nombre: 'Pesadilla',
    movimiento: 5,
    ataque: 14,
    defensa: 18,
    dano: 3,
    rango: 1,
    vida: 10,
    agilidad: 80,
    imagen: 'assets/images/tokens/pesadilla.webp',
    animacion: 'assets/images/animations/pesadilla.webp',
    poderes: poderesFuente.pesadilla,
    habilidades: { activas: ['Incapacitar','Mejora de Ataque'], pasivas: ['Robo de Vida','Invulnerable'] }
  },
  centinela: {
    nombre: 'Centinela',
    movimiento: 6,
    ataque: 11,
    defensa: 17,
    dano: 4,
    rango: 5,
    vida: 18,
    agilidad: 20,
    imagen: 'assets/images/tokens/centinela.webp',
    animacion: 'assets/images/animations/centinela.webp',
    poderes: poderesFuente.centinela,
    habilidades: { activas: ['Incapacitar','Explosión'], pasivas: ['Dureza','Defensa a/d','Volar'] }
  }
};

if (typeof window !== 'undefined') {
  window.personajes = personajes;
}